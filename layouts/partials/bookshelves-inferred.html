{{- /* Generates content from site data */}}
{{- $initial_view := site.Data.plugin_bookshelves_data.InitialView | default site.Params.bookshelves_initial_view -}}
{{- range $bookshelf_key, $bookshelf := site.Data.bookshelves }}
 
<h1 class="bookshelf-key">{{ $bookshelf_key }}</h1>
<div class="bookshelf-books {{ if (and $initial_view (eq "grid" $initial_view)) }}grid-view{{ else }}list-view{{ end }}">
  {{- range $bookshelf }}
  
{{- partial "book.html" . }}  
  
  {{- end }}
</div>

{{- end }}